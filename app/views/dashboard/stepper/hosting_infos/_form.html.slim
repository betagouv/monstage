- new_record = @hosting_info.new_record?
- when_new = dashboard_stepper_hosting_infos_path(organisation_id: params[:organisation_id], internship_offer_info_id: params[:internship_offer_info_id])
- unless new_record
  - when_old = dashboard_stepper_hosting_info_path(id: @hosting_info,
                                                            organisation_id: params[:organisation_id],
                                                            internship_offer_info_id: params[:internship_offer_info_id])
= form_with( model: @hosting_info,
             url: (new_record ? when_new : when_old),
             scope: :hosting_info,
             method: (new_record ? 'POST' : 'PATCH' ),
             data: { turbo: false } ) do |form|

  = render "dashboard/stepper/steps", { current_step_number: 3,
                                        total_steps: 5,
                                        current_step_title: "Accueil des élèves",
                                        next_step_title: "Informations pratiques du stage" }

  = render "layouts/form_errors",
            resource: @hosting_info,
            resource_name: :hosting_info

  = render 'form_fields', { form: form,
                            resource: @hosting_info,
                            submit_button: true}
